%h1
  = @exercise.index.to_s + '. ' + @exercise.name

-# %div{id:"drag"}
#top-exercise-nav
  = link_to("All Exercises", exercises_path)
  - if @exercise.index > Exercise.minimum_index
    |
    = link_to("Previous Exercise", exercise_path(Exercise.find_by(index: @exercise.index - 1)))
  |
  - if @exercise.index < Exercise.maximum_index
    = link_to("Next Exercise", exercise_path(Exercise.find_by(index: @exercise.index + 1)))


.exercise-instruction
  %p
    = @exercise.instruction

#guest-solution
  = form_for @form_path do |f|
    = f.label :solution_code
    = f.text_area :solution_code
    = f.submit :execute, onclick: "addCodeToTextArea()"

- if @solution_results
  .results
    #expected
      %h4
        Expected Results:
      -# %textarea{class: :readOnlyCode}
      - @exercise.print_result

    #actual
      %h4
        Your Query Returned:
      -# %textarea{class: :readOnlyCode}
      - @solution.print_result

    %button{onclick: "toggleResult()", id: "result-toggle-button"}


- if @correct_query == true
  %p Success!

- if @solution_errors
  - @solution_errors.each do |error|
    %p
      = error

%p
  Answers and Discussion
  %button{id: "toggle-button"}
    show

#answers-and-discussion{class: "hidden-answer"}
  %textarea{class: :readOnlyCode, id: :answerCode}
    = @exercise.solution

#bottom-exercise-nav
  - if @exercise.index > Exercise.minimum_index
    = link_to("Previous Exercise", exercise_path(Exercise.find_by(index: @exercise.index - 1)))
  |
  - if @exercise.index < Exercise.maximum_index
    = link_to("Next Exercise", exercise_path(Exercise.find_by(index: @exercise.index + 1)))
